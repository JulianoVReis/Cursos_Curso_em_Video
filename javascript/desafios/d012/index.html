<!DOCTYPE html>
<html lang="pt-br">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Preço mudou</title>
	<style>
		body {
			font-family: Arial, Helvetica, sans-serif;
		}

		input {
			padding: 1rem;
		}
	</style>
</head>
<body>
	<section>
		<h1>Preço mudou</h1>
		<input id="botao" type="button" value="Verificar">
		<p>Clique no botão acima para analisar a mudança de preço.</p>
		<h3 id="msg"></h3>
		<p id="lista"></p>
	</section>
	<script>
		botao.addEventListener('click', clique)
		function clique() {
			let msg = document.querySelector('#msg')
			let lista = document.querySelector('#lista')
			let ant = Number(prompt('Qual era o preço anterior do produto?'))
			let dep = Number(prompt('Qual é o preço atual do produto?'))
			let resBarato = ant - dep
			let resCaro = dep - ant
			let forAnt = Intl.NumberFormat('pt-BR', { style: 'currency', currency: 'BRL' }).format(ant)
			let forDep = Intl.NumberFormat('pt-BR', { style: 'currency', currency: 'BRL' }).format(dep)
			let variBarato = Intl.NumberFormat('pt-BR', { maximumSignificantDigits: 3 }).format((resBarato / ant) * 100)
			let variCaro = Intl.NumberFormat('pt-BR', { maximumSignificantDigits: 3 }).format((resCaro / ant) * 100)
			msg.innerHTML = 'Analisando os valores informados'
			if (dep < ant) {
				lista.innerHTML = `
					<p>O produto custava ${forAnt} e agora custa ${forDep}.</p>
					<p>Hoje o produto está mais barato.</p>
					<p>O preço caiu ${Intl.NumberFormat('pt-BR', { style: 'currency', currency: 'BRL' }).format(resBarato)} em relação ao preço anterior.</p>
					<p>Uma variação de ${variBarato}% pra baixo.</p>
				`
			}else {
				lista.innerHTML = `
					<p>O produto custava ${forAnt} e agora custa ${forDep}.</p>
					<p>Hoje o produto está mais caro.</p>
					<p>O preço subiu ${Intl.NumberFormat('pt-BR', { style: 'currency', currency: 'BRL' }).format(resCaro)} em relação ao preço anterior.</p>
					<p>Uma variação de ${variCaro}% pra cima.</p>
				`
			}
		}
	</script>
</body>
</html>